---
title: 从「股市」App 看股市
date: 2023-10-25 22:42:26
updated: 2023-10-25 22:42:26
excerpt: 看懂股票
categories: economics
math: true
tags: 
  - 股票
  - 金融
---

> 从 Apple Stocks App （股市 App）开始，看懂一支股票。
>
> 注：本文不构成任何投资建议。



## 前言

作为一个程序员，尤其是金融交易相关的程序员，自己或多或少也会与“投资理财”打交道。目前我的日常生活中接触最多的理财产品就是基金，中国内陆市面上可以自由购买的基金的「标的」中，常见的无非是股票和债券两种（当然也有部分稳健的基金会投资于货币或其他标的）。即便是 FOF 类的基金也是如此，绕过中间的层层代理，最终在基金经理的运作下，我的钱会被用于购买股票、债券或是其他产品。

于我而言，甚至是于大多数人而言，基金最大的意义在于让专业的交易员来替我规划投资组合，避免“吊死在一棵树上”。而在市场上的一揽子基金中，我更倾向于购买 ETF 指数基金，这类基金的目标往往是追踪一个市场上的指数，例如新能源汽车行业的 ETF 指数基金的表现，往往与整个新能源汽车行业的公司股票表现相关。在这类基金中，基金经理的操作空间较小，往往由程序和算法来计算投资组合的比例分配，可以较好的体现一个行业的整体表现，一般不必担心人为因素所造成的偏差。

于是，作为普通的投资者——往往不具备看准一支股票的预言能力，我可以站在一个更为宏观的角度来选择我的投资方向，比如：“相比于互联网行业，我更看好新能源行业，同时我还看好白酒行业”，那么此时我就可以购买相关行业的指数基金来验证我的想法。相比之下，在“蔚小理和比亚迪”中选择我要购买的具体的股票，就显得较为困难了。



## 进入正题

前面提到了一些简单的背景——看起来当我购买了行业的指数基金之后，我就可以放弃思考了，只要等着新一代的年轻人开始爱上喝茅台、开新能源汽车，我就可以大赚一笔！

知其然，还要知其所以然，既然我们投资的基金的标的基本是由股票构成，那么我们自然会意识到，占比较重的股票的涨跌，会直接影响到我们的基金价格。

好巧不巧，最近和一位好友闲聊时，他提到说他正准备开通一个美股的交易账号，我便询问他是想购买哪一支股票，他说他比较看好国内新能源车企中的「理想汽车」。顺势之下，我便打开了 MacBook 上的「股市」App，查看了理想汽车在美股的相关数据。

![Li Auto](/img/analyze-stocks/liauto.png)

可以看到，除了股价的走势之外，「股市」App 的图表下方还有一系列相关的数据，这些数据代表了什么，我们又能从中获得怎样的信息？



## 走势图与 K Line

股市 App 中的“走势图” UI 较为简单，较为简单的反映了股价随着时间的变化曲线，从中我们能获取到的信息比较有限 —— 这是因为股市 App 本身并不是一个交易所 App，用户在这里并不能买卖股票，它的数据来源也注明了是 “yahoo! finance”，因此我们在该 App 上不能获取到详细的交易数据也是可以理解的。

与之对应的，我们可以看到在数据表中，有「今日开盘价」和「今日最高 / 低价」这几栏数据。实际上，联系上表中缺失的「今日收盘价」，我们可以根据这四维数据绘制出一个“小蜡烛”，将每天的小蜡烛都进行汇总，会得到大名鼎鼎的「K 线图」。

相反地，从一张已有的 K 线图中，我们可以反向地解读出这四维的数据，也就可以对某一天的交易情况做出一个合理的推测了。相关的信息可以参照 OANDA Lab 撰写的研究文章，该文章十分详细的阐述了这四维数据背后所对应的可能情况，这里就不做展开了：

[K 线及其透露的市场秘密](https://www.oanda.com/bvi-ft/lab-education/dictionary/k-charts/)



## 成交量和平均成交量

「成交量」的定义比较简单，也就是它们的字面意思，代表了一定时间段内的成交量，股市 App 中的单位是“股数”，也就是成交了多少股的意思。

一般而言，股票的成交量越大，可以说它的流动性越好 —— 也就是说大家都愿意去买卖这支股票，这一点不难理解。从更深层上来说，参与买卖股票的人对股价的评价越冲突时，成交量就越大，因为当大家对股价的看法都比较一致时，也就更难产生交易的行为。

举例来说，如果持有特斯拉股票的人，都认为特斯拉的股价处于偏低的状态，日后还有较大的升值空间，那么大家就不太愿意在二级市场上抛售自己所持有的股票，会攥在手里等待升值。反之，如果市面上看空和看多的人有激烈的冲突，那么市场上买卖的人就多了起来，有的人急于抛售，害怕股价亏损给自己带来损失，剩下的人则乐意接盘，认为现在是个抄底的好机会。

<u>值得注意的是，股市 App 中的「平均成交量」与金融行业中普遍使用的术语是不同的。</u>

「平均成交量」的计算公式如下：
$$
平均成交量 = 成交量 \div 笔数
$$
也就是说，平均成交量代表了每一笔交易平均成交了多少股。

而股市 App 中的「平均成交量」指的是过去一段时间内的「每日成交量」的平均数，也就是用来衡量过去一段时间中，每天大约交易了多少股，而不是指代每笔交易的平均成交额。

因此，综合来讲，这两个指标都有助于我们评估一支股票的流动性，更为详细的信息则无法获取到了。



## 贝塔系数

贝塔系数是一种用来评估股票证券风险的工具，用通俗的话来说，贝塔系数反映的是当前股票与大盘之间的关联关系 —— 贝塔系数绝对值越大，大盘涨的时候，当前股票就涨的越多，反之亦然。

例如：

1. 当贝塔系数 = 1.1 时，大盘涨了 10 %，当前股票就会涨 11 %。
2. 当贝塔系数 = 5.6 时，大盘跌了 10 %，当前股票就会跌 56 %。

是不是感觉看起来有点像合约交易中的杠杆？从计算上来说确实如此，但这两者有着本质上的不同：

合约杠杆是用户在开始交易前<u>提前设置</u>好的，而贝塔系数则是根据历史数据<u>回过头计算得到</u>的。

接下来简单看一眼贝塔系数的计算公式：
$$
\beta = \frac{Cov(r_a, r_m)}{\sigma_m^2}\\
\begin{cases}
r_a &= 股票的收益\\
r_m &= 市场的收益\\
Cov(r_a, r_m) &= 二者的协方差\\
\sigma_m^2 &= 市场收益的方差
\end{cases}
$$

> 协方差的值可以反映两个指标之间的相关性：
>
> 协方差为正数，则指标 A 增加📈时，指标 B 也有增加📈的趋势；
>
> 协方差为负数，则指标 A 增加📈时，指标 B 有减小📉的趋势；
>
> 协方差为 0 ，则两个指标之间的关联性不强。
>
> 方差则表明了数据的分散程度，方差越大数据越分散。

公式表明，贝塔系数本身其实<u>**并不能表明股票和市场之间的直接联系**</u>，但可以帮助我们大致的判断一支股票在过去一段时间内的“股性”。

> 从数学上来说，贝塔系数为 0 只能推导出“证券价格波动与市场价格波动无关”，而不能说明这个证券是没有风险的。但反过来说，如果一个证券没有风险，那么它的贝塔系数一定为 0。
>
> 但其实根据个人经验来说，我们一般在市场中交易的股票都能够使用贝塔系数来当作「股票和市场间的联系」看待，因为普通人交易的股票中的绝大部分都与市场情绪是强相关的。

一般来说，熊市时我们可以选择贝塔系数低的股票来帮助我们抵御风险，牛市来临时我们可以选择贝塔系数高的股票来帮助我们放大收益。



## 每股收益，越高越好！

每股收益的定义也比较简单：
$$
EPS = \frac{期末净利润}{期末股份总数}
$$
可以看到，每股收益越高，在市场中往往说明该公司的净利润越高（减少股份总数的情况比较少，这里暂不考虑）。

市场上往往使用 EPS 排名来区分优质股和垃圾股。



## 市盈率是什么，越高越好？

前面提到了每股收益 EPS 是越高越好的，那么对于市盈率 PE 是否也是这样呢？

先看市盈率 PE 的计算公式：
$$
PE = \frac{股价}{EPS}
$$

可以看到，EPS 的计算与前文提到的 EPS 是息息相关的。而我们前面又提到，EPS 是越高越好的，因为 EPS 越高往往说明公司的净利润越高，股票越优质。

那么 PE 是不是也是越高越好呢？通过公式我们可以看到，PE 越高往往说明股价越高，或是 EPS 越小。而这两种情况都不算是好消息 —— 我们既不希望在股价处于高点时买入，也不希望购入 EPS 很低的“垃圾股”。

举例来说，随着一家优秀公司的成长和发展，这家公司股票的 EPS 会不断增加，此时购入其股票的人也会越来越多，于是其股价也会不断上升，最终这家公司的市盈率 PE 会落在一个合理的区间中（分子和分母都在不断增大）。

但是只有一家公司的 PE 值，其参考价值往往不够大，最好的方式是<u>**在同行业中对不同公司的 PE 进行对比**</u>，例如对比五粮液和茅台两家公司的 PE 值，或是对比理想和比亚迪之间的 PE 值。通过这种对比我们可以大致的看出一家公司在行业中的股价是否“偏高”。

接下来我们将 EPS 带入公式，从另一个角度来理解市盈率：
$$
PE = \frac{股价}{EPS} = \frac{股价}{\frac{期末净利润}{期末股份总数}}
= \frac{股价\cdot期末股份总数}{期末净利润}\approx \frac{市值}{期末净利润}
$$
最终公式中的分子为`股价*股数`，我们可以将其理解为一家公司的市值，于是 PE 就被化简为市值比上利润了，这种形式是不是看起来更好理解一些 —— PE 过高要么说明其市值过高，要么说明其利润太少。

最后我们再回归 PE 公式本身，从最后一个视角来理解 PE：
$$
PE = \frac{股价}{EPS}
$$
思考我购入一只股票后，永不卖出并且及时提取分红的情况下，我需要多少时间才能回本？

假设公司 A 的股价是每股 100 元，A 公司的每股收益 EPS = 10，那么当我花了 100 元购买一股之后，单纯吃股息的情况下，我每年能够获得 10 元收益，于是我需要 `100 / 10 = 10` 年的时间才能回本。

---

MBA 智库中有一个 PE 的参考范围：

- 0-13：即价值被低估
- 14-20：即正常水平
- 21-28：即价值被高估
- 28+：反映股市出现投机性泡沫

---

OANDA Lab 中也有下方表格供参考：

| 股价范围 | PE 范围      | 预期投资回报率 |
| -------- | ------------ | -------------- |
| 偏高     | 20 < PE      | < 5%           |
| 合理     | 10 < PE < 20 | < 6.7%         |
| 偏低     | PE < 10      | < 8.3%         |

---

作为普通的投资者，如何根据上述提到的诸多信息来选购一家公司的股票呢？下面是根据公式推导的一个结论表格：

| 股价     | EPS 每股收益 | PE 市盈率                                 |
| -------- | ------------ | ----------------------------------------- |
| A = B    | 越高越好     | 股价相同，EPS 越高，PE 越低，回本时间越短 |
| 越低越好 | A = B        | EPS 相同，股价越低，PE 越低，回本时间越短 |
| A ≠ B    | A ≠ B        | 此时一般只看 PE，PE 越低，回本时间越短    |



## 市净率又是什么，和市盈率有关系吗？

市净率 PB 指的是股价和每股净资产的比值：
$$
PB = \frac{股价}{每股净资产}
$$

> 每股净资产是净资产 / 股数
>
> 净资产就是一家公司的**总资产-总负债**，也就是当公司卖掉所有资产和付清所有负债之后剩余的价值

看过了前面内容，这里我们也能迅速的得出，一般而言 PB 越低的股票投资价值越高，这一点和 PE 是基本相同的。

举例来说：在理想情况下，公司的 Day 1 当天，PB 应该为 1，即：公司价值 100 万，那么我花 1 万就能买到 1% 的公司；随着时间增长，公司股票越来越值钱，在股价涨了 10 倍之后，公司价值 1000 万时，我花 1 万只能买到 0.1% 的公司了，此时 PB 也就变成了 10。

一般来说，我们会认为 PB 比 PE 更为稳定，因为从公式中我们就能看出来，PE 随着盈利变化，而 PB 随着净资产变化，在短期时间内，公司的盈利也许会发生巨大的波动，例如苹果举行发布会后，手机的销量也许会大幅上升，但公司的净资产的变化却非常少。

其次，PE 不适用于亏损的企业，因为亏损的企业没有盈利无法计算 PE，但是这类企业是有净资产的，PB 仍然能够被计算出来。



## AI 时代，交给 AI 

写在最后，AI 的时代，再让我们请教一下 AI。

根据 GuruFocus 给出的数据，我们不难看出 Li Auto 的股票在同行业中，呈现出高 PE 低 PB 的情况，交给 ChatGPT 来对其进行分析：

![PE](/img/analyze-stocks/pe.png)

![PB](/img/analyze-stocks/pb.png)

![ChatGPT](/img/analyze-stocks/chatgpt.png)
